!function(e,t){for(var r in t)e[r]=t[r]}(window,function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);const n=function(e){this.gl=e,this._spritesToRender=1e4,this._init()};n.prototype={_init:function(){let e=this.gl,t=e.createShader(e.VERTEX_SHADER);e.shaderSource(t,"#version 300 es\n\n        // an attribute is an input (in) to a vertex shader.\n        // It will receive data from a buffer\n        in vec2 a_position;\n        in vec4 a_color;\n        out vec4 v_color;\n\n        // Used to pass in the resolution of the canvas\n        uniform vec2 u_resolution;\n        \n        // all shaders have a main function\n        void main() {\n        \n          // convert the position from pixels to 0.0 to 1.0\n          vec2 zeroToOne = a_position / u_resolution;\n        \n          // convert from 0->1 to 0->2\n          vec2 zeroToTwo = zeroToOne * 2.0;\n        \n          // convert from 0->2 to -1->+1 (clipspace)\n          vec2 clipSpace = zeroToTwo - 1.0;\n        \n          v_color = a_color;\n          gl_Position = vec4(clipSpace, 0, 1);\n        }\n        "),e.compileShader(t);let r=e.getShaderParameter(t,e.COMPILE_STATUS);if(!r){throw"V Shader failed to compile with error: "+e.getShaderInfoLog(t)}let n=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(n,"#version 300 es\n        \n        precision mediump float;\n\n        in vec4 v_color;\n        \n        // we need to declare an output for the fragment shader\n        out vec4 outColor;\n        \n        void main() {\n          outColor = v_color;\n        }\n        "),e.compileShader(n),!(r=e.getShaderParameter(n,e.COMPILE_STATUS)))throw lastError=e.getShaderInfoLog(n),"F Shader failed to compile with error: "+lastError;let o=e.createProgram();if(e.attachShader(o,t),e.attachShader(o,n),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw lastError=e.getProgramInfoLog(o),"Program linking failed: "+lastError;let i=e.getAttribLocation(o,"a_position"),a=e.getUniformLocation(o,"u_resolution"),s=e.getAttribLocation(o,"a_color"),c=e.createVertexArray();e.bindVertexArray(c),e.enableVertexAttribArray(i),e.enableVertexAttribArray(s);let u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u);let l=new Float32Array(12*this._spritesToRender);e.bufferData(e.ARRAY_BUFFER,l,e.DYNAMIC_DRAW);let f=2,h=e.FLOAT,d=!1,p=0,A=0;e.vertexAttribPointer(i,f,h,d,p,A),this.positionTypeArray=l,this.positionBuffer=u;let _=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,_);let m=new Float32Array(24*this._spritesToRender);e.bufferData(e.ARRAY_BUFFER,m,e.DYNAMIC_DRAW),f=4,h=e.FLOAT,d=!1,p=0,A=0,e.vertexAttribPointer(s,f,h,d,p,A),this.colorTypeArray=m,this.colorBuffer=_,e.useProgram(o),e.uniform2f(a,e.canvas.width,e.canvas.height)},start:function(){let e=()=>{this._render(),window.requestAnimationFrame(e)};return window.requestAnimationFrame(e)},stop:function(){},createSprite:function(){let e=this.gl;this.positionTypeArray.set([10,20,80,20,10,30,10,30,80,20,80,30],0),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.positionTypeArray);let t=[Math.random(),Math.random(),Math.random(),1];this.colorTypeArray.set([...t,...t,...t,...t,...t,...t],0),e.bindBuffer(e.ARRAY_BUFFER,this.colorBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.colorTypeArray)},_render:function(){let e=this.gl;e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);let t=e.TRIANGLES,r=6*this._spritesToRender;e.drawArrays(t,0,r)}},r.d(t,"twod",function(){return i});const o=function(e){if(!e)throw"Missing argument. ";this.canvasElement=e;try{this.gl=this.canvasElement.getContext("webgl2"),this.runtime=new n(this.gl)}catch(e){throw"Failed to initalize webgl2 with error: "+e}};o.prototype={start:function(){return this.runtime.start()},stop:function(){return this.runtime.stop()},createSprite:function(){return this.runtime.createSprite()}};const i=function(e){return new o(e)}}]));